<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Station-Mapper">

	<select id="selectChild" resultType="station">
		SELECT *
		FROM child
		ORDER BY
		station_num
	</select>

	<select id="selectChildById" resultType="station">
		SELECT *
		FROM child
		WHERE
		child_id=#{child_id}
	</select>

	<select id="selectChildNameById" resultType="str">
		SELECT child_name
		FROM child
		WHERE child_id=#{child_id}
	</select>

	<select id="selectChildByStationNum" resultType="station">
		SELECT *
		FROM
		child
		WHERE station_num=#{station_num}
	</select>


	<update id="insertStation" parameterType="station">
		UPDATE child
		SET
		station_num=#{station_num}
		WHERE child_id=#{child_id}
	</update>

	<update id="updateStation" parameterType="station">
		UPDATE child
		SET
		station_num=#{station_num}
		WHERE child_id=#{child_id}
	</update>


	<update id="deleteStation" parameterType="int">
		UPDATE child
		SET
		station_num = null
		WHERE child_id = #{child_id}
	</update>

	<select id="selectParentPhoneByChildId" resultType="string">
		SELECT parents_phone
		FROM parents
		WHERE parents_id = (
		SELECT parents_id
		FROM child
		WHERE child_id = #{child_id}
		)
	</select>


</mapper>